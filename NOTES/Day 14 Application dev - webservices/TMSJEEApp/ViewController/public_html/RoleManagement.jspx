<?xml version='1.0' encoding='windows-1252'?>
<jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" version="2.1"
          xmlns:f="http://java.sun.com/jsf/core"
          xmlns:h="http://java.sun.com/jsf/html">
  <jsp:output omit-xml-declaration="true" doctype-root-element="HTML"
              doctype-system="http://www.w3.org/TR/html4/loose.dtd"
              doctype-public="-//W3C//DTD HTML 4.01 Transitional//EN"/>
  <jsp:directive.page contentType="text/html;charset=windows-1252"/>
  <f:view>
    <html>
      <head>
        <meta http-equiv="Content-Type"
              content="text/html; charset=windows-1252"/>
        <title>Role Management</title>
        <link rel="stylesheet" type="text/css" href="images/styles.css"/>
      </head>
      <body>
        <!-- Header panel -->
        <div class="header">
          <div class="header-left"></div>
          <div class="header-title">TRAFFIC OFFENCE MANAGEMENT SYSTEM</div>
          <div class="header-right">
            <h:form style="margin:0; padding:0;">
              <h:commandButton value="Logout" styleClass="logout-btn"
                               action="#{backing_AdminDashboard.logout_action}"/>
            </h:form>
          </div>
        </div>
        <!-- Main panel -->
        <div class="main-layout">
          <div class="sidebar">
            <div class="sidebar-title">Role Management</div>
            <div class="form-row">
              <h:outputLabel value="Admin Designation ID" for="desigID"
                             styleClass="sidebar-label"/>
               
              <h:inputText value="#{backing_AdminDashboard.designationId}"
                           id="desigID" readonly="true"
                           styleClass="sidebar-input"/>
            </div>
            <h:form id="sidebarNavForm">
              <div class="sidebar-nav">
                <h:commandLink value="Home"
                               action="#{backing_AdminDashboard.home_action}"
                               styleClass="sidebar-nav-link"/>
                 
                <h:commandLink value="Admin Management"
                               action="#{backing_AdminDashboard.admin_action}"
                               styleClass="sidebar-nav-link"/>
                 
                <h:commandLink value="Role Management"
                               action="#{backing_AdminDashboard.role_action}"
                               styleClass="sidebar-nav-link"/>
              </div>
            </h:form>
          </div>
          <!-- Center content is now a sibling of sidebar, not a child -->
          <div class="center-content">
            <!-- Show message if present -->
            <h:panelGroup rendered="#{not empty backing_RoleManagement.message}">
              <div class="admin-msg message">
                <h:outputText value="#{backing_RoleManagement.message}"/>
              </div>
            </h:panelGroup>
             
            <h:form id="rolesTableForm">
              <!-- Add Role Button -->
              <div class="admin-card-actions" style="margin-bottom:18px;"
                   rendered="#{!backing_RoleManagement.addMode}">
                <h:commandButton value="Add Role"
                                 action="#{backing_RoleManagement.showAddCard}"
                                 styleClass="admin-card-actions-btn"/>
              </div>
              <!-- Add Role Card -->
              <h:panelGroup rendered="#{backing_RoleManagement.addMode}">
                <div class="admin-card">
                  <div class="admin-card-row">
                    <h:outputLabel value="Role Name:" for="newRoleName"/>
                     
                    <h:inputText id="newRoleName"
                                 value="#{backing_RoleManagement.newRoleName}"
                                 required="true"
                                 requiredMessage="Role name is required"/>
                  </div>
                  <div class="admin-card-actions">
                    <h:commandButton value="Save"
                                     action="#{backing_RoleManagement.saveNewRole}"/>
                     
                    <h:commandButton value="Cancel"
                                     action="#{backing_RoleManagement.cancelAdd}"
                                     immediate="true"/>
                  </div>
                </div>
              </h:panelGroup>
              <!-- Update Role Card -->
              <h:panelGroup rendered="#{backing_RoleManagement.updateMode}">
                <div class="admin-card">
                  <div class="admin-card-row">
                    <h:outputLabel value="Edit Role Name:"
                                   for="updateRoleName"/>
                     
                    <h:inputText id="updateRoleName"
                                 value="#{backing_RoleManagement.updateRoleName}"
                                 required="true"
                                 requiredMessage="Role name is required"/>
                  </div>
                  <div class="admin-card-actions">
                    <h:commandButton value="Save"
                                     action="#{backing_RoleManagement.saveUpdate}"/>
                     
                    <h:commandButton value="Cancel"
                                     action="#{backing_RoleManagement.cancelUpdate}"
                                     immediate="true"/>
                  </div>
                </div>
              </h:panelGroup>
              <!-- Delete Confirmation Card -->
              <h:panelGroup rendered="#{backing_RoleManagement.deleteMode}">
                <div class="admin-card">
                  <div class="admin-card-row">
                    <h:outputText value="Are you sure you want to delete role '#{backing_RoleManagement.selectedRole.roleName}'?"/>
                  </div>
                  <div class="admin-card-actions">
                    <h:commandButton value="Delete"
                                     action="#{backing_RoleManagement.delete}"/>
                     
                    <h:commandButton value="Cancel"
                                     action="#{backing_RoleManagement.cancelDelete}"
                                     immediate="true"/>
                  </div>
                </div>
              </h:panelGroup>
              <!-- Roles Table -->
              <div class="admin-card admin-role-table">
                <h:dataTable value="#{backing_RoleManagement.roleList}"
                             var="role" styleClass="role-table">
                  <h:column>
                    <f:facet name="header">
                      <h:outputText value="Role ID"/>
                    </f:facet>
                    <h:outputText value="#{role.roleId}"/>
                  </h:column>
                  <h:column>
                    <f:facet name="header">
                      <h:outputText value="Role Name"/>
                    </f:facet>
                    <h:outputText value="#{role.roleName}"/>
                  </h:column>
                  <h:column>
                    <f:facet name="header">
                      <h:outputText value="Actions"/>
                    </f:facet>
                    <h:commandButton value="Update"
                                     action="#{backing_RoleManagement.prepareUpdate}"
                                     styleClass="admin-card-actions-btn">
                      <f:setPropertyActionListener target="#{backing_RoleManagement.selectedRole}"
                                                   value="#{role}"/>
                    </h:commandButton>
                    <h:commandButton value="Delete"
                                     action="#{backing_RoleManagement.prepareDelete}"
                                     styleClass="admin-card-actions-btn admin-card-actions-delete">
                      <f:setPropertyActionListener target="#{backing_RoleManagement.selectedRole}"
                                                   value="#{role}"/>
                    </h:commandButton>
                  </h:column>
                </h:dataTable>
              </div>
            </h:form>
          </div>
        </div>
      </body>
    </html>
  </f:view>
  <!--oracle-jdev-comment:auto-binding-backing-bean-name:backing_RoleManagement-->
</jsp:root>
